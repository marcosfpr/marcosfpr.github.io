<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Monomorphization</title>
    <link rel="stylesheet" href="../style.css">
    <script defer src="../theme.js"></script>

    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)']],
                displayMath: [['\\[', '\\]']],
                processEscapes: true
            }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
</head>

<body>
    <header>
        <h1>marcosfpr</h1>
        <nav>
            <a href="../index.html">Home</a> |
            <a href="index.html">Wiki</a> |
            <button id="theme-toggle" aria-label="Toggle light/dark">Light/Dark</button>
        </nav>
    </header>

    <main>
        
<div id="Monomorphization"><h1 id="Monomorphization" class="header"><a href="#Monomorphization">Monomorphization</a></h1></div>

<p>
Turn generic code into specific code by filling in the type parameters with concrete types
that are used in a program. This process is called <span id="Monomorphization-monomorphization"></span><strong id="monomorphization">monomorphization</strong>.
</p>

<p>
For example, consider the following generic function in Rust:
</p>

<pre rust>
pub fn strlen(s: impl AsRef&lt;str&gt;) -&gt; usize {
    s.as_ref().len()
}
</pre>

<p>
The declaration above is the same as the following:
</p>

<pre rust>
pub fn strlen&lt;T: AsRef&lt;str&gt;&gt;(s: T) -&gt; usize {
    s.as_ref().len()
}
</pre>

<p>
When you call <code>strlen</code> with a specific type, such as <code>&amp;str</code> or <code>String</code>, the Rust
compiler generates a specialized version of the function for that type.
The compiler can optimize the code better when it knows the concrete types.
</p>

<p>
Monomorphization is one of the reasons why building DLLs (dynamic link libraries)
in Rust is not straightforward -- because we don't know in advance which concrete
types will be used.
</p>

    </main>

    <footer>
        &copy; 2024 marcosfpr
    </footer>
</body>

</html>
